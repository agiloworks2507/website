(function($){var defaults={topSpacing:0,bottomSpacing:0,className:'is-stickyy',wrapperClassName:'stickyy-wrapper',center:false,getWidthFrom:''},$window=$(window),$document=$(document),sticked=[],windowHeight=$window.height(),scroller=function(){var scrollTop=$window.scrollTop(),documentHeight=$document.height(),dwh=documentHeight-windowHeight,extra=(scrollTop>dwh)?dwh-scrollTop:0;for(var i=0;i<sticked.length;i++){var s=sticked[i],elementTop=s.stickyyWrapper.offset().top,etse=elementTop-s.topSpacing-extra;if(scrollTop<=etse){if(s.currentTop!==null){s.stickyyElement.css('position','').css('top','');s.stickyyElement.parent().removeClass(s.className);s.currentTop=null;}}else{var newTop=documentHeight-s.stickyyElement.outerHeight()-s.topSpacing-s.bottomSpacing-scrollTop-extra;if(newTop<0){newTop=newTop+s.topSpacing;}else{newTop=s.topSpacing;}if(s.currentTop!=newTop){s.stickyyElement.css('position','fixed').css('top',newTop);if(typeof s.getWidthFrom!=='undefined'){s.stickyyElement.css('width',$(s.getWidthFrom).width());}s.stickyyElement.parent().addClass(s.className);s.currentTop=newTop;}}}},resizer=function(){windowHeight=$window.height();},methods={init:function(options){var o=$.extend(defaults,options);return this.each(function(){var stickyyElement=$(this);var stickyyId=stickyyElement.attr('id');var wrapper=$('<div></div>').attr('id',stickyyId+'-stickyy-wrapper').addClass(o.wrapperClassName);stickyyElement.wrapAll(wrapper);if(o.center){stickyyElement.parent().css({width:stickyyElement.outerWidth(),marginLeft:"auto",marginRight:"auto"});}if(stickyyElement.css("float")=="right"){stickyyElement.css({"float":"none"}).parent().css({"float":"right"});}var stickyyWrapper=stickyyElement.parent();stickyyWrapper.css('height',stickyyElement.outerHeight());sticked.push({topSpacing:o.topSpacing,bottomSpacing:o.bottomSpacing,stickyyElement:stickyyElement,currentTop:null,stickyyWrapper:stickyyWrapper,className:o.className,getWidthFrom:o.getWidthFrom});});},update:scroller};if(window.addEventListener){window.addEventListener('scroll',scroller,false);window.addEventListener('resize',resizer,false);}else if(window.attachEvent){window.attachEvent('onscroll',scroller);window.attachEvent('onresize',resizer);}$.fn.stickyy=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}else{$.error('Method '+method+' does not exist on jQuery.stickyy');}};$(function(){setTimeout(scroller,0);});})(jQuery);